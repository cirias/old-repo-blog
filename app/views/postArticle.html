<% include header.html %>
<div class="post" ng-controller="TagsCtrl">
  <ul class="nav nav-tabs">
    <li class="active"><a href="#upload" data-toggle="tab">Upload</a></li>
    <li><a href="#write" data-toggle="tab">Write</a></li>
  </ul>
  <div class="tab-content">
    <div class="upload tab-pane active" id="upload">
      <form class="form-horizontal" role="form" action="/post" method="post" enctype="multipart/form-data">
        <div class="form-group">
          <label for="InputFile" class="col-sm-3 control-label">File input</label>
          <div class="col-sm-9">
            <input type="file" id="InputFile" name="htmlFile">
            <p class="help-block">Choose your artilce file.</p>
          </div>
        </div>
        <div class="form-group">
          <label for="inputTitle" class="col-sm-3 control-label">Title</label>
          <div class="col-sm-9">
            <input type="text" class="form-control" id="inputTitle" name="title" placeholder="Title">
          </div>
        </div>
        <div class="form-group">
          <label for="SelectTag" class="col-sm-3 control-label">Select Tags</label>
          <div class="col-sm-9" id="SelectTag">
            <label class="checkbox-inline" ng-repeat="tag in tags">
              <input type="checkbox" name="tags" value="{{ tag.name }}">{{ tag.name }}
            </label>
            <label class="text-inline">
              <input type="text" class="form-control  input-sm" id="TagText" placeholder="New Tag" ng-model="newTag">
            </label>
            <label class="btn-inline">
              <button type="button" class="btn btn-default btn-sm" ng-click="addTag()">Add</button>
            </label>
            <p class="help-block">Select some tags for the artilce.</p>
          </div>
        </div>
        <div class="form-group">
          <label for="inputRadio" class="col-sm-3 control-label">Hide or Not</label>
          <div class="col-sm-9" class="inputRadio">
            <label class="radio-inline">
              <input type="radio" name="hidden" id="radioHide" value="TRUE"> Hide
            </label>
            <label class="radio-inline">
              <input type="radio" name="hidden" id="radioNotHide" value="FALSE"> Not Hide
            </label>
          </div>
        </div>
        <div class="form-group">
          <div class="col-sm-offset-3 col-sm-9">
            <button type="submit" class="btn btn-primary" >Upload</button>
          </div>
        </div>
      </form>
    </div>
    <div class="upload tab-pane" id="write">
      
        <form id="imageForm" enctype="multipart/form-data">
          <input id="image" name="image" type="file" />
        </form>
      <form role="form" action="/save" method="post" enctype="multipart/form-data">
        <input type="text" class="form-control" id="inputTitle" name="title" placeholder="Title">
        <label class="checkbox-inline" ng-repeat="tag in tags">
          <input type="checkbox" name="tags" value="{{ tag.name }}">{{ tag.name }}
        </label>
        <label class="text-inline">
          <input type="text" class="form-control  input-sm" id="TagText" placeholder="New Tag" ng-model="newTag">
        </label>
        <label class="btn-inline">
          <button type="button" class="btn btn-default btn-sm" ng-click="addTag()">Add</button>
        </label>
        <div class="form-group">
          <label class="radio-inline">
            <input type="radio" name="hidden" id="radioHide" value="TRUE"> Hide
          </label>
          <label class="radio-inline">
            <input type="radio" name="hidden" id="radioNotHide" value="FALSE"> Not Hide
          </label>
        </div>
        <div class="progress" style="display: none;">
          <div id="progress" class="progress-bar" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;">
            60%
          </div>
        </div>
        <div>
          <p id="status"></p>
          <ul id="imagePathList">
          </ul>
        </div>
        <textarea class="form-control" id="text-input" name="content" oninput="this.editor.update()" rows="10"></textarea>
        <div class="form-group">
          <div class="col-sm-offset-3 col-sm-9">
            <button id="save" type="submit" class="btn btn-primary" >Upload</button>
          </div>
        </div>
        <div class="blog-post" id="preview">
        </div>
        <script src="/scripts/javascripts/markdown.min.js"></script>
        <script>
          function Editor(input, preview) {
            this.update = function () {
              preview.innerHTML = markdown.toHTML(input.value);
            };
            input.editor = this;
            this.update();
          }
          var $ = function (id) { return document.getElementById(id); };
          new Editor($("text-input"), $("preview"));
        </script>
      </form>
    </div>
  </div>
</div>
<script src="/scripts/javascripts/jquery.min.js"></script>
<script src="/scripts/javascripts/upload.js"></script>
<% include footer.html %>